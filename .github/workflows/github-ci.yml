name: Run Synthetic tests using the test public IDs
on:
  push:
    branches:
      - main  # adjust this to your main branch name if different
jobs:
  e2e_testing:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [20.x]
    steps:
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Run Datadog Synthetic tests
        uses: DataDog/synthetics-ci-github-action@v0.24.0
        with:
          api_key: ${{env.DATADOG_API_KEY}}
          app_key: ${{env.DATADOG_APP_KEY}}
          public_ids: 'ebn-akz-9be'
